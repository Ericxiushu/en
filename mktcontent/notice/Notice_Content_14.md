&amp;lt;div&amp;gt;您好！Drupal官方发布了一个编号为：CVE-2017-6920的漏洞。该漏洞是由于DrupalCore的YAML解析器处理不当所导致的一个远程代码执行漏洞，影响8.x的DrupalCore，安全风险较高。&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;为避免您的业务受影响，我们建议您及时开展自查，并尽快推动内部PHP相关业务排查和Drupal升级更新，详细参见如下指引说明：&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;【漏洞概述】&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;该漏洞是由于DrupalCore的YAML解析器在处理不安全的PHP对象句柄时，通过远程代码执行，进行高危行为操作；&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;【风险等级】&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;高风险&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;【漏洞影响】&amp;lt;span class=&amp;quot;Apple-tab-span&amp;quot; style=&amp;quot;white-space:pre&amp;quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;可远程利用导致远程代码执行；&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;【影响版本】&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;DrupalCore8.x版本；&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;【漏洞检测】&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;登陆Drupal管理后台，查看内核版本是8.x，且版本号低于8.3.4，则存在该漏洞；否则，不存在该漏洞；&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;【修复建议】&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;1） &amp;nbsp;根治措施：&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;目前官方已经发布了Drupal 8.3.4 修复了该漏洞，强烈建议用户升级；&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;2） &amp;nbsp;临时措施：&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;升级Drupal文件“/core/lib/Drupal/Component/Serialization/YamlPecl.php”中的decode函数如下：&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; public static function decode($raw) {&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; static $init;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if (!isset($init)) {&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// We never want to unserialize!php/object.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ini_set(&amp;#39;yaml.decode_php&amp;#39;, 0);&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;$init = TRUE;}&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// yaml_parse() will error with an emptyvalue.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if (!trim($raw)) {&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return NULL;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;}&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;......&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;3） &amp;nbsp;建议用户不要开放管理后台，避免暴力破解或web攻击直接入侵后台，同时建议用户定期更新最新版本程序，防止出现漏洞。&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;【相关参考】&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;1）https://www.drupal.org/SA-CORE-2017-003&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;2）http://paper.seebug.org/334/&amp;lt;/div&amp;gt;